import{L as i,N as a,Qb as c,V as n,i as p}from"./chunk-LF3VOW3X.js";var r={MOVIE:"movies",MANGA:"manga",TV_SERIES:"series",GAME:"games"},h=class{httpClient=n(c);trackedChanged$=new p(void 0);search(t){return this.httpClient.get("/api/v1/media",{params:{title:t}})}trackExternal(t){let e=r[t.mediaType];return this.httpClient.get(`/api/v1/${e}/external/${t.externalId}`).pipe(i(s=>this.httpClient.post(`/api/v1/${e}/${s.id}/track`,{})),a(()=>this.trackedChanged$.next()))}untrack(t){let e=r[t.mediaType];return this.httpClient.post(`/api/v1/${e}/${t.id}/untrack`,{}).pipe(a(()=>this.trackedChanged$.next()))}getTracked(){return this.trackedChanged$.pipe(i(()=>this.httpClient.get("/api/v1/media/tracked")))}markWatched(t){let e=r[t.mediaType];return this.httpClient.post(`/api/v1/${e}/${t.id}/watched`,{}).pipe(a(()=>this.trackedChanged$.next()))}};export{h as a};
